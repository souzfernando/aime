<!-- Topbar Start -->
<header class="site-header">
<!-- Topbar Start -->
<div class="container-fluid">
  <div class="row bg-secondary py-1 px-xl-5 align-items-center d-lg-none">

    <!-- Div vazia com mesmas propriedades -->
<div class="col-cart text-right d-lg-none"></div>
    <!-- Logo mobile -->
    <div class="col-logo logo-mobile">
      <a href="https://aimepersonalizados.pages.dev/" class="text-decoration-none">
        <img src="img/logo.png" alt="Logo AimÃª" />
      </a>
    </div>

    <!-- Carrinho mobile -->
    <div class="col-cart text-right d-lg-none">
      <a href="cart.html" class="btn px-0">
        <i class="fas fa-shopping-cart text-dark"></i>
        <span id="cart-count-mobile" class="badge text-dark border border-secondary-dark rounded-circle" style="padding-bottom:2px;">0</span>
      </a>
    </div>
  </div>

  <!-- Linha desktop -->
  <div class="row align-items-center bg-light py-3 px-xl-5 d-none d-lg-flex">
    <div class="col-lg-4">
      <a href="https://aimepersonalizados.pages.dev/" class="text-decoration-none">
        <span class="h1 text-primary bg-dark px-2">AimÃª</span>
        <span class="h1 text-dark bg-primary px-2 ml-n1">Personalizados</span>
      </a>
    </div>

    <div class="col-lg-4 img-right logo-desk">
      <a href="https://aimepersonalizados.pages.dev/" class="text-decoration-none">
        <img src="img/logo.png" alt="Logo AimÃª" />
      </a>
    </div>

    <div class="col-lg-4 col-6 text-left">
      <form id="formBusca" onsubmit="return false;">
        <div class="input-group">
          <input type="text" id="busca" class="form-control" placeholder="Procurar">
          <div class="input-group-append">
            <span id="btnBusca" class="input-group-text bg-transparent text-primary-ico" style="cursor:pointer;">
              <i class="fa fa-search"></i>
            </span>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Topbar End -->

<!-- Navbar Start -->
<div class="container-fluid bg-dark mb-30">
  <div class="row px-xl-5">
    <div class="col-lg-3 d-none d-lg-block">
      <a class="btn d-flex align-items-center justify-content-between bg-primary w-100" data-toggle="collapse"
         href="#navbar-vertical" style="height: 65px; padding: 0 30px;">
        <h6 class="text-dark m-0"><i class="fa fa-bars mr-2"></i>Categorias</h6>
        <i class="fa fa-angle-down text-dark"></i>
      </a>
      <nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 bg-light"
           id="navbar-vertical" style="width: calc(100% - 30px); z-index: 999;">
        <div class="navbar-nav w-100">
          <a href="shop.html" class="nav-item nav-link">Agendas</a>
          <a href="shop.html" class="nav-item nav-link">Cadernos</a>
          <a href="shop.html" class="nav-item nav-link">Cadernetas</a>
          <a href="shop.html" class="nav-item nav-link">Planner</a>
          <a href="shop.html" class="nav-item nav-link">CartÃµes</a>
        </div>
      </nav>
    </div>

    <div class="col-lg-9">
      <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-0">
        <a href="index.html" class="text-decoration-none d-block d-lg-none">
          <span class="h1 text-dark bg-light px-2">AimÃª</span>
          <span class="h1 text-light bg-primary px-2 ml-n1">Personalizados</span>
        </a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
          <div class="navbar-nav mr-auto py-0">
            <a href="index.html" class="nav-item nav-link active">Home</a>
            <a href="shop.html" class="nav-item nav-link">Shop</a>
            <a href="cart.html" class="nav-item nav-link">Carrinho</a>
            <a href="checkout.html" class="nav-item nav-link">Checkout</a>
            <a href="contact.html" class="nav-item nav-link">Contato</a>
          </div>

          <div class="navbar-nav ml-auto py-0 d-none d-lg-block">
            <a href="#" class="btn px-0">
              <i class="fas fa-heart text-primary"></i>
              <span class="badge text-secondary border border-secondary rounded-circle"
                    style="padding-bottom:2px;">0</span>
            </a>
            <a href="cart.html" class="btn px-0 ml-3">
  <i class="fas fa-shopping-cart text-primary"></i>
  <span id="cart-count" class="badge text-secondary border border-secondary rounded-circle"
        style="padding-bottom:2px;">0</span>
</a>
          </div>
        </div>
      </nav>
    </div>
  </div>
</div>
</header>
<!-- Navbar End -->

<script>
document.addEventListener('DOMContentLoaded', () => {
  if (typeof atualizarCarrinhoTopo === 'function') atualizarCarrinhoTopo();
});
</script>



<script>
// ðŸ” Atualiza o nÃºmero do carrinho no topo (desktop e mobile)
function atualizarCarrinhoTopo() {
    const carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
    const totalItens = carrinho.reduce((soma, item) => soma + (Number(item.quantidade) || 0), 0);

    // Desktop
    const badgeDesk = document.getElementById('cart-count');
    if (badgeDesk) badgeDesk.textContent = totalItens;

    // Mobile
    const badgeMobile = document.getElementById('cart-count-mobile');
    if (badgeMobile) badgeMobile.textContent = totalItens;
}

// Atualiza quando a pÃ¡gina carrega
document.addEventListener('DOMContentLoaded', atualizarCarrinhoTopo);

// Atualiza se o localStorage mudar em outra aba ou script
window.addEventListener('storage', atualizarCarrinhoTopo);
</script>

